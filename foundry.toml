[profile.default]
# --- Project Layout ---
src = "src"
out = "out"
libs = ["lib"]
test = "test"
script = "script"

# --- Compiler Configuration ---
solc_version = "0.8.33"
optimizer = true
# 300'den 1'e indirildi. 
# Bu, "Initcode size exceeds 49152" hatasını çözmek için en etkili yöntemdir.
optimizer_runs = 1  
via_ir = true
evm_version = "cancun"

# --- Bytecode Optimization (Boyutu Küçültmek İçin Eklenenler) ---
# Metadata'yı devre dışı bırakmak kontrat boyutundan ciddi tasarruf sağlar.
bytecode_hash = "none"
cbor_metadata = false

# --- Metadata & Output Analysis ---
extra_output = [
    "abi",
    "evm.bytecode",
    "evm.deployedBytecode",
    "evm.methodIdentifiers",
    "metadata",
    "storageLayout"
]

# --- Linting & Warnings ---
# 3860: Initcode size uyarısını tamamen gizlemek istersen listeye ekleyebilirsin.
ignored_error_codes = [1878, 5574, 2018, 3860]

# --- Advanced Testing Strategies ---
[fuzz]
runs = 1000 
seed = '0x31337'

[invariant]
runs = 500
depth = 15

# --- Coverage Configuration ---
coverage_exclusions = [
    "test/**",
    "script/**",
    "test/utils/ERC20Assertions.sol"
]

# CI (Continuous Integration) profilinde de optimizer'ı açık tutalım ki boyut hatası testleri durdurmasın.
[profile.ci]
optimizer = true
optimizer_runs = 1
via_ir = true

# --- Dependency Management ---
remappings = [
    "@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/",
    "@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/",
    "forge-std/=lib/forge-std/src/"
]

# --- Infrastructure & Connectivity ---
[rpc_endpoints]
xlayer_mainnet = "https://rpc.xlayer.tech"
xlayer_testnet = "https://testnet.xlayer.tech/rpc"

[etherscan]
xlayer = { key = "${OKLINK_API_KEY}", url = "https://www.oklink.com/api/v5/explorer/contract/verify-source-code-plugin/xlayer" }
xlayer_testnet = { key = "${OKLINK_API_KEY}", url = "https://www.oklink.com/api/v5/explorer/contract/verify-source-code-plugin/xlayer" }

[doc]
title = "AOXC Protocol Documentation"
repository = "https://github.com/aoxc/aoxc-dao-genesis"
solc_version = "0.8.33"
